name: Auto Update TV Links
on:
  schedule:
    - cron: '0 */12 * * *' # প্রতি ১২ ঘণ্টা পর পর অটো আপডেট হবে
  workflow_dispatch:      # আপনি চাইলে নিজেও যেকোনো সময় 'Run' করতে পারবেন

jobs:
  update_links:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

      - name: Fetch Working Links
        run: |
          # এখানে আমরা একটি সোর্স থেকে লিঙ্কগুলো সংগ্রহ করছি
          # আপনি চাইলে অন্য কোনো সোর্স লিঙ্কও এখানে দিতে পারেন
          curl -s https://raw.githubusercontent.com/Free-TV/IPTV/master/playlist.m3u8 > "Live tv"
          echo -e "\n# Last Updated: $(date)" >> "Live tv"

      - name: Commit and Push Changes
        run: |
          git config --global user.name "github-actions[bot]"
          git config --global user.email "github-actions[bot]@users.noreply.github.com"
          git add "Live tv"
          git commit -m "TV Links Auto Updated: $(date)" || echo "No changes found"
          git push
